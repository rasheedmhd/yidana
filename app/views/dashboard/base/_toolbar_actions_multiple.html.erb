<%#
  locals: {
    resource_class: "Class of resources being rendered",
  }
%>
<%= search_form_for adapt_route_args(@q), class: "d-inline", html: { data: { controller: "form", turbo_frame: nil } } do |f| %>
  <label for="search" class="visually-hidden">Search</label>
  <%=
    f.search_field :name_cont, id: "search",
                               class: "form-control form-control-sm d-inline w-auto",
                               # since ransack trims strings, we instead
                               # use the url param because it preserves trailing spaces
                               # that way, when the frame reloads the user gets to continue typing
                               value: params[:q].try(:[], :name_cont),
                               placeholder: "search...",
                               data: {
                                action: "form#submit",
                                form_target: "focus"
                               }

  %>
  <%# preserve sorting %>
  <%= f.hidden_field :s, value: params[:q].try(:[], :s) %>
<% end %>

<%#= toolbar_icon_button '#', :filter %>
<%= create_button_for resource_class %>
